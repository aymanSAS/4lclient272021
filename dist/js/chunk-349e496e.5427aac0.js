(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-349e496e"],{3525:function(t,e,a){"use strict";a.r(e);var c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("header",[a("h1",{directives:[{name:"formatme",rawName:"v-formatme.orange",value:30,expression:"30",modifiers:{orange:!0}}]},[t._v("Failures")]),a("div",{staticClass:"jumbotron",staticStyle:{width:"100%"}},[a("FailureTable")],1)])])},r=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{clas:"failuretable"}},[a("form",{staticClass:"submit-form"},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"id"}},[t._v("ID :")]),a("div",{staticClass:"col-sm-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentcat.id,expression:"currentcat.id"}],staticClass:"form-control",attrs:{type:"text",name:"id",readonly:""},domProps:{value:t.currentcat.id},on:{input:function(e){e.target.composing||t.$set(t.currentcat,"id",e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"veto"}},[t._v("Failure Code :")]),a("div",{staticClass:"col-sm-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentcat.failurecode,expression:"currentcat.failurecode"}],staticClass:"form-control",attrs:{type:"text",name:"insubcat"},domProps:{value:t.currentcat.failurecode},on:{input:function(e){e.target.composing||t.$set(t.currentcat,"failurecode",e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"veto"}},[t._v("Failure Name :")]),a("div",{staticClass:"col-sm-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentcat.failurename,expression:"currentcat.failurename"}],staticClass:"form-control",attrs:{type:"text",name:"insubname"},domProps:{value:t.currentcat.failurename},on:{input:function(e){e.target.composing||t.$set(t.currentcat,"failurename",e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"select1"}},[t._v("Parent Subcategory:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.ay1,expression:"ay1"}],staticClass:"col-sm-4",staticStyle:{width:"300px"},attrs:{name:"select1",id:"select1"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.ay1=e.target.multiple?a:a[0]},function(e){return t.changefcode(t.ay1.subcatcode)}]}},[a("option",{attrs:{value:"",selected:"",disabled:"",hidden:""}},[t._v("Choose here")]),t._l(t.subcats,(function(e){return a("option",{key:e.subcatcode,domProps:{value:e}},[t._v(" "+t._s(e.subcatname))])}))],2),a("div",{staticClass:"col-sm-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentcat.subcatcode,expression:"currentcat.subcatcode"}],staticClass:"form-control",staticStyle:{width:"100px"},attrs:{name:"infcode",id:"infcode",type:"text",readonly:""},domProps:{value:t.currentcat.subcatcode},on:{input:function(e){e.target.composing||t.$set(t.currentcat,"subcatcode",e.target.value)}}})])])]),a("button",{staticClass:"btn btn-success",staticStyle:{"margin-right":"15px","margin-bottom":"15px"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.Setit.apply(null,arguments)}}},[t._v("Save")]),a("button",{staticClass:"btn btn-success",staticStyle:{"margin-right":"15px","margin-bottom":"15px"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.updateit.apply(null,arguments)}}},[t._v("Update")]),a("button",{staticClass:"btn btn-warning",staticStyle:{"margin-right":"15px","margin-bottom":"15px"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.newfailure.apply(null,arguments)}}},[t._v("New")]),a("button",{staticClass:"btn btn-danger",staticStyle:{"margin-bottom":"15px"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.delit.apply(null,arguments)}}},[t._v("Delete")]),a("div",[a("table",{staticClass:"table"},[t._m(0),t._l(t.propcats,(function(e){return a("tr",{key:e.id,class:{highlight:e.id==t.currentcat.id},on:{click:function(a){return t.selectRow(e.id,e.failurename,e.failurecode,e.subcatcode)}}},[a("td",[t._v(" "+t._s(e.id)+" ")]),a("td",[t._v(" "+t._s(e.failurecode)+" ")]),a("td",[t._v(" "+t._s(e.failurename)+" ")]),a("td",[t._v(" "+t._s(e.subcatcode)+" ")])])}))],2)])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("th",{attrs:{scope:"col"}},[t._v("id")]),a("th",{attrs:{scope:"col"}},[t._v("Failure Code")]),a("th",{attrs:{scope:"col"}},[t._v(" Failure Name")]),a("th",{attrs:{scope:"col"}},[t._v(" Parent Sub Category ")])])}],i=a("1f57"),o={name:"FailureTable",data:function(){return{currentcat:{id:"",failurename:"",failurecode:"",subcatcode:""},mycat:"",currentIndex:-1,failure:"",subcats:"",mycates:"",ay1:"",propcats:""}},props:["ays","selectedcat"],computed:{rotateprop:function(){return this.propcats=this.ays,this.propcats}},mounted:function(){this.rotateprop,this.getfailures(),this.getsubcats()},methods:{selectRow:function(t,e,a,c){this.currentcat.id=t,this.currentcat.failurename=e,this.currentcat.failurecode=a,this.currentcat.subcatcode=c},getcat:function(t){var e=this;i["a"].getmyfailure(t).then((function(t){e.mycats=t.data})).catch((function(t){console.error(t)}))},changefcode:function(t){console.log(this.currentcat.subcatcode),this.currentcat.subcatcode=t},getsubcats:function(){var t=this;i["a"].getallsubcat().then((function(e){t.subcats=e.data})).catch((function(t){console.error(t)}))},getfailures:function(){var t=this;i["a"].getallfailure().then((function(e){t.propcats=e.data})).catch((function(t){console.error(t)}))},newfailure:function(){this.submitted=!1,this.currentcat={id:"",failurecode:"",failurename:"",subcatcode:""}},Setit:function(){var t={failurecode:this.currentcat.failurecode,failurename:this.currentcat.failurename,subcatcode:this.currentcat.subcatcode};console.log(t),!this.currentcat.id&&this.currentcat.failurecode&&this.currentcat.failurename&&this.currentcat.subcatcode?(i["a"].setfailure(t).then((function(t){})).catch((function(t){console.log(t)})),this.getfailures()):alert("Not permit")},delit:function(){var t=this;this.currentcat.id?(i["a"].delfailure(this.currentcat.id).then((function(e){t.newfailure()})).catch((function(t){console.log(t)})),this.newfailure(),this.getfailures(),alert("deleted :"+this.currentcat.id)):alert("Not Permit")},updateit:function(){var t=this,e={id:this.currentcat.id,failurecode:this.currentcat.failurecode,failurename:this.currentcat.failurename,subcatcode:this.currentcat.subcatcode};this.rotateprop,console.log(e),i["a"].updateFailure(e).then((function(e){t.getfailures(),console.log(e)})).catch((function(t){console.log(t)}))}}},u=o,l=(a("d564"),a("2877")),d=Object(l["a"])(u,n,s,!1,null,"4b70f074",null),f=d.exports,m=(a("9962"),a("c4c6"),a("bc3a"),a("8654")),p=(new m["a"]("",""),{name:"Failures",data:function(){return{content:{}}},components:{FailureTable:f}}),v=p,h=Object(l["a"])(v,c,r,!1,null,null,null);e["default"]=h.exports},c546:function(t,e,a){},d564:function(t,e,a){"use strict";a("c546")}}]);
//# sourceMappingURL=chunk-349e496e.5427aac0.js.map