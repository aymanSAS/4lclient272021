(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f81bfd54"],{"623a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"jumbotron",staticStyle:{width:"100%"}},[a("button",{staticClass:"btn btn-success",staticStyle:{float:"left","margin-top":"20","margin-right":"20px"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.Getallmtime(1)}}},[t._v("Last Month")]),a("button",{staticClass:"btn btn-success",staticStyle:{float:"left","margin-top":"20","margin-right":"120px"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.Getallmtime(0)}}},[t._v("Current Month")]),a("button",{staticClass:"btn btn-success",staticStyle:{float:"left","margin-top":"20","margin-right":"20px"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.getreport1()}}},[t._v(" Monthly Rates PDF")]),a("downloadexcel",{staticClass:"btn",attrs:{header:[t.$store.state.machineName+" Effieciency Report month  "+t.lastMonth+"-"+t.y,"PEI= "+t.PEI],fetch:t.reportex,fields:t.json_fields,type:"xls"}},[a("input",{attrs:{type:"image",src:"images/excel1.png",alt:"Excel",width:"50",height:"40"}})]),a("br"),a("h2",[t._v(" Monthly Rates Report "+t._s(t.lastMonth)+"-"+t._s(t.y)+" ")]),t._m(1),a("RatesTable",{attrs:{ays:t.content}})],1)])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",[a("br")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"col-sm-1"}),a("div",{staticClass:"col-sm-1"})])}],s=a("ade3"),i=a("1da1"),r=(a("96cf"),a("d81d"),a("07ac"),a("c1df")),c=a.n(r),l=a("f2d9"),d=a("8baf"),u=(a("0da4"),a("30e7")),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{clas:"messagetable"}},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"id"}},[t._v("ID :")]),a("div",{staticClass:"col-sm-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentmessage.id,expression:"currentmessage.id"}],staticClass:"form-control",attrs:{type:"text",name:"id",readonly:""},domProps:{value:t.currentmessage.id},on:{input:function(e){e.target.composing||t.$set(t.currentmessage,"id",e.target.value)}}})]),a("br"),a("div",[a("table",{staticClass:"table"},[t._m(0),t._l(t.ays,(function(e){return a("tr",{key:e.id,class:{highlight:e.id==t.currentmessage.id},on:{click:function(a){return t.selectRow(e.id,e.fcode,e.comment)}}},[a("td",[t._v(" "+t._s(e.id)+" ")]),a("td",[t._v(" "+t._s(t._f("formatDate")(e.date))+" ")]),a("td",[t._v(" "+t._s(e.ppmcount)+" ")]),a("td",[t._v(" "+t._s(e.ppmrate)+" ")]),a("td",[t._v(" "+t._s(e.bbl)+" ")]),a("td",[t._v(" "+t._s(e.runid)+" ")]),a("td",[t._v(" "+t._s(e.productcode)+" ")]),a("td",[t._v(" "+t._s(e.cho)+" ")])])}))],2)])])},h=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("th",{attrs:{scope:"col"}},[t._v("id")]),a("th",{attrs:{scope:"col"}},[t._v("Date")]),a("th",{attrs:{scope:"col"}},[t._v("unit/hr")]),a("th",{attrs:{scope:"col"}},[t._v("Rate (BBL/hr)")]),a("th",{attrs:{scope:"col"}},[t._v("Mode")]),a("th",{attrs:{scope:"col"}},[t._v("Run ID")]),a("th",{attrs:{scope:"col"}},[t._v("Product ID")]),a("th",{attrs:{scope:"col"}},[t._v("CHO")])])}],f=a("db04"),p={name:"RatesTable",props:["ays"],data:function(){return{messages:[],currentmessage:{id:"",ppmcount:"",ppmrate:"",date:"",bbl:"",runid:"",productcode:""},mycat:"",currentIndex:-1,cat:"",mycats:""}},methods:{selectRow:function(t,e,a,n,o,s,i){this.currentmessage.id=t,this.currentmessage.ppmcount=e,this.currentmessage.ppmrate=a,this.currentmessage.date=n,this.currentmessage.bbl=o,this.currentmessage.runid=s,this.currentmessage.productcode=i}}},L=p,C=(a("f3b0"),a("2877")),g=Object(C["a"])(L,m,h,!1,null,"770ef4f8",null),v=g.exports,b=a("2461"),P=(a("9962"),a("1f57")),B=(a("c4c6"),a("bc3a"),a("8654")),R=(a("869b"),new B["a"]("",""),a("6612")),H={name:"Messages",data:function(){return{json_fields:{ID:"id",Dtae:"date",Time:"time"," unit/hr ":"ppmcount","Rate (BBL/hr)":"ppmrate","Run ID":"runid","Product Code":"productcode",CHO:"cho"},PPDmanual:"",offtime:"",ontime:"",runtime:"",stoptime:"",ppdconverter:1,content:{},lastMonth:"",y:"",cats:{},subcats:{},failures:{},ftime:"",fsecond:"",tp1:"",tp2:"",tp3:"",MR:"",PCL:"",RCLTOTAL:"",PEI:"",RCL:"",PL:"",EF:"",RCLHF:"",CHO:"",OPL:"",PCLHF:"",HF3:"",PPD:"",BBL:"",PCLHF1:"",PCLHF2:"",RCLHF1:"",RCLHF2:"",RCLHF3:"",available:"",max:"",RCLHFO:"",CLOSED:"",qf:"",LTC1:"",LTC2:"",CHOcount:""}},components:{RatesTable:v,MessagesDrop:b["a"],TabMenue:u["a"],downloadexcel:l["a"]},created:function(){this.GetBBL(this.$store.state.vardeleyMuliplier),this.GetPPD(this.$store.state.vardelayCarton),this.Getit(0),this.Getallmtime(0)},mounted:function(){this.Getit(0)},computed:{BBL2:function(){},report11:function(){var t=[],e=this.content.map((function(t){return{id:t.id,date:c()(String(t.date)).format("DD-MM-YYYY"),time:c()(String(t.date)).format("hh:mm:ss"),ppmcount:t.ppmcount,ppmrtae:t.ppmrate}}));return t=e.map((function(t){return Object.values(t)})),t}},methods:{reportex:function(){var t=this.content.map((function(t){return{id:t.id,payload:t.payload,date:c()(String(t.date)).format("DD-MM-YYYY"),time:c()(String(t.date)).format("HH:mm:ss"),ppmcount:t.ppmcount,ppmrate:t.ppmrate,runid:t.runid,productcode:t.productcode,cho:t.cho}}));return t},fetchData:function(){return Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[{colA:"Hello",colB:"World"},{colA:"Multi-line",colB:"This is a long paragraph\nwith multiple lines\nthat should show in a single cell."},{colA:"Another",colB:"Regular cell"}],t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)})))()},startDownload:function(){alert("Export failure to Excel sheet")},finishDownload:function(){alert("Exporting Is Finished")},Getit:function(t){var e=this,a=new Date;a.getMonth()+1-t<=0?(this.y=a.getFullYear()-1,this.lastMonth=a.getMonth()+1-t+12):(this.y=a.getFullYear(),this.lastMonth=a.getMonth()+1-t),f["a"].getmonthrates(t).then((function(t){e.content=t.data,console.log(e.content)})).catch((function(t){console.error(t)}))},GetBBL:function(t){var e=this;f["a"].getmaintmode(t).then((function(t){e.BBL=t.data[0].maintmode,console.log(e.maintmode)})).catch((function(t){console.error(t)}))},GetPPD:function(t){var e=this;f["a"].getmaintmode(t).then((function(t){e.ppdconverter=t.data[0].maintmode,console.log(e.maintmode)})).catch((function(t){console.error(t)}))},getreport1:function(){JSON.stringify(this.content);var t=new d["default"];t.setFont("custom"),t.autoTable({doc:"#my-table"}),t.text("Monthly Rates Report ("+this.$store.state.machineName+"): "+this.lastMonth+" / "+this.y,11,11);var e=["ID","Date","Time","Count Rate","BBL Rtae"];t.setFontSize(8),t.setFont("custom"),t.autoTable(Object(s["a"])({styles:{cellPadding:.5,fontSize:8,font:"custom",fontStyle:"normal"},columns:e,body:this.report11,tableLineWidth:.5,theme:"grid",margin:{left:1,right:1},headStyles:{fontSize:8}},"styles",{cellPadding:.5,fontSize:8})),t.save("R"+this.lastMonth+"-"+this.y)},Getallmtime:function(t){var e=this;this.Getit(t);var a=new Date;a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds();a.getMonth()+1-t<=0?(this.y=a.getFullYear()-1,this.lastMonth=a.getMonth()+1-t+12):(this.y=a.getFullYear(),this.lastMonth=a.getMonth()+1-t);var n={mid:"",vid:""};n.mid=this.$store.state.midDi0,n.vid=0,n.m=t,f["a"].getmtime(n.mid,n.vid,n.m).then((function(a){e.PPDmanual=.00629*a.data[0].PPDmanual,e.offtime=a.data[0].offtime,e.ontime=a.data[0].ontime,e.runtime=a.data[0].runtime,e.stoptime=a.data[0].stoptime,e.tp1=a.data[0].tp1,e.tp2=a.data[0].tp2,e.tp3=a.data[0].tp3,e.qf=a.data[0].qf,e.PCL=a.data[0].PCL*e.BBL,e.RCL=a.data[0].RCL*e.BBL+e.qf,e.HF3=e.tp3,e.EF=a.data[0].EF,e.CHO=a.data[0].CHO,e.PL=a.data[0].PL,e.OPL=a.data[0].OPL,e.CLOSED=a.data[0].CLOSED,e.PCLHF1=a.data[0].PCLHF1,e.PCLHF2=a.data[0].PCLHF2,e.PCLHF=e.PCLHF1+e.PCLHF2,e.RCLHF1=a.data[0].RCLHF1,e.RCLHF2=a.data[0].RCLHF2,e.RCLHF3=a.data[0].RCLHF3,e.PPD=a.data[0].PPD*e.ppdconverter,e.CHOcount=a.data[0].CHOcount,e.LTC1=25*a.data[0].CHOcount,e.MR=a.data[0].MR+a.data[0].Jams;var n=new Date,o=n.getDate()-1,s=n.getHours(),i=n.getMinutes(),r=f["a"].getDaysInMonth(n.getMonth(),n.getFullYear());if(0==t)var c=(24*o+s+i/60)*e.BBL;if(1==t)c=24*r*e.BBL;var l=e.RCL+e.RCLHF*e.BBL;e.available=c-e.CLOSED*e.BBL,e.max=c;e.available,e.PCL,e.PPD;var d=e.LTC1+e.LTC2;e.RCLTOTAL=e.max-e.CLOSED*e.BBL-e.PPD-e.PCL-d,e.RCLHF=(e.RCLTOTAL-e.MR*e.BBL-e.EF*e.BBL-e.qf)/e.BBL,e.RCLHFO=e.RCLHF1+e.RCLHF2+e.RCLHF3,e.PEI=e.PPD/(e.PPD+e.RCLTOTAL)}))},generatepdf:function(){var t=new d["default"];t.text("Performance Report ("+this.$store.state.machineName+"): "+this.lastMonth+" / "+this.y,15,15),t.autoTable({head:[["Multiplier "]],body:[[this.BBL]]}),t.autoTable({head:[["RCL","PCL","PEI","LTC","CHO Count","CHO Time"]],body:[[R(this.RCLTOTAL).format("0.00")+" BBL",R(this.PCL).format("0.00")+" BBL",R(100*this.PEI).format("0.00")+" %",R(this.LTC1+this.LTC2).format("0.00")+" BBL",this.CHOcount,R(this.CHO).format("0.00")+" hr"]]}),t.autoTable({head:[["Quality-Factor","Max","Closed","Actual","Available"]],body:[[R(this.qf).format("0.00")+" BBL",R(this.max).format("0.00")+" BBL",R(this.CLOSED*this.BBL).format("0.00")+" BBL",R(this.PPD).format("0.00")+" BBL",R(this.available).format("0.00")]]}),t.autoTable({head:[["Maintenance Reliability","External Factor","RCL by time","RCL Human","Other RCL Human"]],body:[[R(this.MR).format("0.00")+" BBL",R(this.EF).format("0.00")+" BBL",R(this.RCL/this.BBL).format("0.00")+" hr",R(this.RCLHF).format("0.00")+" hr",R(this.RCLHFO).format("0.00")+" hr"]]}),t.autoTable({head:[["Planned Maintenance","Other Planned Events","PCL Human"]],body:[[R(this.PL).format("0.00")+" BBL",R(this.OPL).format("0.00")+" BBL",R(this.PCLHF).format("0.00")+" hr"]]}),t.save("PR"+this.lastMonth+"-"+this.y)},gen2:function(){var t=new d["default"],e=["id","name"],a=e.map((function(t){return{name:t,prompt:t,width:50,align:"center",padding:0}})),n=[{id:"ww",name:"Peter"},{id:"ff",name:"Chris"}];t.table(20,30,n,a),t.save("pdf.pdf")},Getallftime:function(){var t=this,e={mid:"",vid:""};e.mid=this.$store.state.midDi0,e.vid=1,P["a"].getftime(e.mid,e.vid).then((function(e){t.ftime=e.data[0].ftime,t.fsecond=e.data[0].fsecond})).catch((function(t){console.error(t)}))}}},y=H,F=Object(C["a"])(y,n,o,!1,null,null,null);e["default"]=F.exports},"88b4":function(t,e,a){},f3b0:function(t,e,a){"use strict";a("88b4")}}]);
//# sourceMappingURL=chunk-f81bfd54.68fa4681.js.map