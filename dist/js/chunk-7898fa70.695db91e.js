(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7898fa70"],{"102c":function(t,e,s){"use strict";s("275e")},2461:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dropdown"},[s("select",{staticClass:"browser-default custom-select",staticStyle:{"margin-bottom":"1em"}},[s("option",{attrs:{selected:""}},[t._v("Open this select menu")]),t._l(t.mydata,(function(e){return s("option",{key:e.id},[t._v(t._s(e.payload))])}))],2)])},n=[],o={name:"MessagesDrop",props:["mydata"]},c=o,r=s("2877"),i=Object(r["a"])(c,a,n,!1,null,null,null);e["a"]=i.exports},"275e":function(t,e,s){},2899:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{clas:"messagetable"}},[s("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"id"}},[t._v("ID :")]),s("div",{staticClass:"col-sm-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentmessage.id,expression:"currentmessage.id"}],staticClass:"form-control",attrs:{type:"text",name:"id",readonly:""},domProps:{value:t.currentmessage.id},on:{input:function(e){e.target.composing||t.$set(t.currentmessage,"id",e.target.value)}}})]),s("br"),s("div",[s("table",{staticClass:"table"},[t._m(0),t._l(t.ays,(function(e){return s("tr",{key:e.id,class:{highlight:e.id==t.currentmessage.id},on:{click:function(s){return t.selectRow(e.id,e.fcode,e.comment)}}},[s("td",[t._v(" "+t._s(e.id)+" ")]),s("td",[t._v(" Machine Stop ")]),s("td",[t._v(" "+t._s(t._f("formatDate")(e.date))+" ")]),s("td",[t._v(" "+t._s(e.fcode)+" .. "+t._s(e.fdesc)+" ")]),s("td",[t._v(" "+t._s(e.Comment)+" ")]),s("td",[t._v(" "+t._s(e.mcomment)+" ")]),s("td",[t._v(" "+t._s(e.tp2||0)+" ")]),s("td",[t._v(" "+t._s(e.fperiod||0)+" ")])])}))],2)])])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"thead-dark"},[s("th",{attrs:{scope:"col"}},[t._v("id")]),s("th",{attrs:{scope:"col"}},[t._v("Message")]),s("th",{attrs:{scope:"col"}},[t._v("Date")]),s("th",{attrs:{scope:"col"}},[t._v("Fcode")]),s("th",{attrs:{scope:"col"}},[t._v("Op Comment")]),s("th",{attrs:{scope:"col"}},[t._v("Maint Comment")]),s("th",{attrs:{scope:"col"}},[t._v("Maint Time")]),s("th",{attrs:{scope:"col"}},[t._v("Stop Period")])])}],o=(s("db04"),{name:"MessagesTable",props:["ays","user","cats","subcats","failures","tp1","tp2","tp3"],data:function(){return{messages:[],currentmessage:{id:"",fcode:"",comment:""},mycat:"",currentIndex:-1,cat:"",mycats:""}},methods:{selectRow:function(t,e,s){this.currentmessage.id=t,this.currentmessage.fcode=e,this.currentmessage.comment=s}}}),c=o,r=(s("5edc"),s("2877")),i=Object(r["a"])(c,a,n,!1,null,"1417c334",null);e["a"]=i.exports},"30e7":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),s("div",{staticClass:"tab-content"},[s("div",{staticClass:"tab-pane container active",attrs:{id:"home"}},[s("button",{staticClass:"btn btn-primary btn-sm col-xs-2",staticStyle:{"margin-bottom":"1em"},on:{click:function(e){return e.preventDefault(),t.Getit.apply(null,arguments)}}},[t._v(" Get Messages")]),s("MessagesTable",{attrs:{ays:t.content}})],1),s("div",{staticClass:"tab-pane container fade",attrs:{id:"menu1"}}),s("div",{staticClass:"tab-pane container fade",attrs:{id:"menu2"}},[s("Visa")],1),s("div",{staticClass:"tab-pane container fade",attrs:{id:"ayman"}})]),t._m(1)])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"nav nav-tabs"},[s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link active",attrs:{"data-toggle":"tab",href:"#home"}},[t._v("Messgaes")])]),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#menu1"}},[t._v("New ")])]),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#menu2"}},[t._v("Menu 2")])]),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#ayman"}},[t._v("Ayman")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{attrs:{align:"right"}},[s("button",{staticClass:"btn btn-success",attrs:{type:"button"}},[t._v("Save")])])}],o=s("311e"),c=s("1f57"),r=s("2899"),i={name:"TabMenue",data:function(){return{content:"",user:""}},components:{MessagesTable:r["a"],Visa:o["a"]},mounted:function(){var t=this;c["a"].getMessages().then((function(e){t.content=e.data})).catch((function(t){console.error(t)}))},methods:{Getit:function(){var t=this;c["a"].getMessages().then((function(e){t.content=e.data})).catch((function(t){console.error(t)}))}}},l=i,u=(s("fb9f"),s("2877")),m=Object(u["a"])(l,a,n,!1,null,"e432eaec",null);e["a"]=m.exports},"311e":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"visa"}},[s("h1",[t._v("Vue Visa Application")]),s("form",[t._m(0),s("br"),t._m(1),s("br"),t._m(2),s("br"),s("label",{attrs:{for:"passport number"}},[t._v("Passport Number:")]),s("input",{attrs:{type:"text",required:""}}),s("label",{attrs:{for:"duration"}},[t._v("Duration of stay:")]),s("input",{attrs:{type:"text",required:""}}),s("br"),s("br"),s("button",{on:{click:t.addVisa}},[t._v("Add another previous visa")]),s("br"),t._l(t.applicants,(function(e,a){return s("div",{key:a,staticClass:"previous"},[s("span",{on:{click:function(e){return t.deleteVisa(a)}}},[t._v("x")]),s("label",{attrs:{for:"duration"}},[t._v(t._s(a+1)+". Previous Visa:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.previous,expression:"applicant.previous"}],attrs:{type:"text",required:""},domProps:{value:e.previous},on:{input:function(s){s.target.composing||t.$set(e,"previous",s.target.value)}}}),s("label",{attrs:{for:"duration"}},[t._v("Year of expiration:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.expiration,expression:"applicant.expiration"}],attrs:{type:"text",required:""},domProps:{value:e.expiration},on:{input:function(s){s.target.composing||t.$set(e,"expiration",s.target.value)}}})])}))],2)])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{attrs:{for:"first name"}},[t._v("First Name : "),s("input",{attrs:{type:"text",required:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{attrs:{for:"last name"}},[t._v("Last Name : "),s("input",{attrs:{type:"text",required:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{attrs:{for:"country"}},[t._v("Nationality : "),s("input",{attrs:{type:"text",required:""}})])}],o=(s("a434"),{name:"Visa",props:{msg:String},data:function(){return{applicants:[{previous:"",expiration:""}]}},methods:{addVisa:function(){this.applicants.push({previous:"",expiration:""})},deleteVisa:function(t){this.applicants.splice(t,1)}}}),c=o,r=(s("102c"),s("2877")),i=Object(r["a"])(c,a,n,!1,null,"e4aeddda",null);e["a"]=i.exports},"4ef2":function(t,e,s){"use strict";s("c603")},"5c12":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{clas:"opmessageform"}},[s("div",{staticClass:"col-sm-10"},[s("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"select1"}},[t._v("Failure Category :")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.content.fcode,expression:"content.fcode"}],staticStyle:{width:"400px"},attrs:{name:"select1"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.content,"fcode",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"",selected:"",disabled:"",hidden:""}},[t._v("Choose here")]),t._l(t.cats,(function(e){return s("option",{key:e.catcode,on:{click:function(s){return t.loadsubcat(e.catcode)}}},[t._v(" "+t._s(e.catname))])}))],2)]),s("div",{staticClass:"col-sm-10"},[s("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"select2"}},[t._v(" Failure Sub Category:")]),s("select",{staticStyle:{width:"400px"},attrs:{name:"select2"}},t._l(t.myfailures,(function(e){return s("option",{key:e.id,on:{click:function(s){return t.loadfailure(e.fcode)}}},[t._v(" "+t._s(e.fname))])})),0)]),s("div",{staticClass:"col-sm-10"},[s("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"select3"}},[t._v(" Failure Cause:")]),s("select",{staticStyle:{width:"400px"},attrs:{name:"select3"}},t._l(t.cats,(function(e){return s("option",{key:e.id},[t._v(" "+t._s(e.catcode))])})),0)]),s("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"text"}},[t._v("Comment :")]),t._m(0),s("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.Setit.apply(null,arguments)}}},[t._v("Save")]),s("MessagesTable",{attrs:{ays:t.content,cats:t.cats,subcats:t.subcats,failures:t.failures}})],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-sm-10"},[s("input",{staticClass:"form-control",attrs:{type:"text"}})])}],o=s("1f57"),c=s("2899"),r={name:"Opmessageform",components:{MessagesTable:c["a"]},data:function(){return{mysubcats:"",content:"",myfailure:""}},props:["cats","subcats","failures"],mounted:function(){this.Getit()},methods:{Getit:function(){var t=this;o["a"].getMessages().then((function(e){t.content=e.data})).catch((function(t){console.error(t)}))},loadsubcat:function(t){var e=this;o["a"].getmysubcat(t).then((function(t){e.mysubcats=t.data})).catch((function(t){console.error(t)}))},loadfailure:function(t){var e=this;o["a"].getmyfailure(t).then((function(t){e.myfailure=t.data})).catch((function(t){console.error(t)}))}}},i=r,l=s("2877"),u=Object(l["a"])(i,a,n,!1,null,null,null);e["a"]=u.exports},"5edc":function(t,e,s){"use strict";s("7894")},6599:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("header",[s("br"),s("h1",{directives:[{name:"formatme",rawName:"v-formatme.orange",value:30,expression:"30",modifiers:{orange:!0}}]},[t._v("Failure Messages")]),s("div")]),s("div",{staticClass:"jumbotron",staticStyle:{width:"100%"}},[s("MaintMessagesTable")],1)])},n=[],o=s("30e7"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{clas:"messagetable"}},[s("div",{staticClass:"col-sm-10"},[s("button",{staticClass:"btn btn-danger",staticStyle:{"margin-right":"15px","margin-bottom":"15px"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.unlockit.apply(null,arguments)}}},[t._v("Unlock 4L Machine ")]),s("button",{staticClass:"btn btn-warning",staticStyle:{"margin-right":"50px","margin-bottom":"15px"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.lockit.apply(null,arguments)}}},[t._v("Lock 4L Machine ")])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm"},[s("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"id"}},[t._v("ID :")]),s("div",{staticClass:"col-sm-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentmessage.id,expression:"currentmessage.id"}],staticClass:"form-control",staticStyle:{width:"400px"},attrs:{type:"text",name:"id",readonly:""},domProps:{value:t.currentmessage.id},on:{input:function(e){e.target.composing||t.$set(t.currentmessage,"id",e.target.value)}}})])]),s("div",{staticClass:"col-sm"},[s("label",{staticClass:"col-sm-5 col-form-label",attrs:{for:"text"}},[t._v("Failure Code :")]),s("div",{staticClass:"col-sm-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentmessage.fcode,expression:"currentmessage.fcode"}],staticClass:"form-control",staticStyle:{width:"400px"},attrs:{name:"infcode",id:"infcode",type:"text",readonly:""},domProps:{value:t.currentmessage.fcode},on:{input:function(e){e.target.composing||t.$set(t.currentmessage,"fcode",e.target.value)}}})])])]),s("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"text"}},[t._v("Comment :")]),s("div",{staticClass:"col-sm-11"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentmessage.comment,expression:"currentmessage.comment"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.currentmessage.comment},on:{input:function(e){e.target.composing||t.$set(t.currentmessage,"comment",e.target.value)}}})]),s("br"),s("button",{staticClass:"btn btn-success",staticStyle:{"margin-right":"15px","margin-bottom":"15px"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.updateit.apply(null,arguments)}}},[t._v("Confirm and Finish ")]),s("button",{staticClass:"btn btn-warning",staticStyle:{float:"right","margin-bottom":"20px","margin-right":"20px"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.updatereject.apply(null,arguments)}}},[t._v("Rejected Work Order ")]),s("div",[s("table",{staticClass:"table"},[t._m(0),t._l(t.propmessages,(function(e){return s("tr",{key:e.id,class:{highlight:e.id==t.currentmessage.id},on:{click:function(s){return t.selectRow(e.id,e.fcode,e.mcomment)}}},[s("td",[t._v(" "+t._s(e.id)+" ")]),s("td",[t._v(" Machine Stop ")]),s("td",[t._v(" "+t._s(t._f("formatDate")(e.date))+" ")]),s("td",[t._v(" "+t._s(e.fdesc)+" ")]),s("td",[t._v(" "+t._s(e.mcomment)+" ")])])}))],2)])])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"thead-dark"},[s("th",{attrs:{scope:"col"}},[t._v("id")]),s("th",{attrs:{scope:"col"}},[t._v("Message")]),s("th",{attrs:{scope:"col"}},[t._v("Date")]),s("th",{attrs:{scope:"col"}},[t._v("Fcode")]),s("th",{attrs:{scope:"col"}},[t._v("Comment")])])}],i=s("db04"),l=s("1f57"),u=s("869b"),m=u["b"],d=new Audio("images/11.wav"),f={name:"OpmessageTable",props:["ays","user","cats","subcats","failures"],data:function(){return{messages:[],currentmessage:{id:"",fcode:"",comment:"",mreject:""},maintmode:"",mycat:"",fcode:"",mysubcats:"",content:"",myfailures:"",currentIndex:-1,cat:"",mycats:"",propmessages:"",ay1:"",ay2:"",ay3:"",timer:""}},mounted:function(){this.rotateprop,this.Getmessages(),this.timer=setInterval(this.Getmessages,36e3)},beforDestroyed:function(){clearInterval(this.timer)},computed:{rotateprop:function(){return this.propmessages=this.ays,this.propmessages}},methods:{Getit:function(){var t=this;l["a"].getMessages().then((function(e){t.content=e.data})).catch((function(e){t.$router.go(0),console.error(e)}))},changefcode:function(t){this.currentmessage.fcode=t},resetme:function(){this.currentmessage.id=""},loadsubcat:function(t){var e=this;l["a"].getmysubcat(t).then((function(t){e.mysubcats=t.data})).catch((function(t){console.error(t)}))},loadfailure:function(t){var e=this;l["a"].getmyfailure(t).then((function(t){e.myfailures=t.data})).catch((function(t){console.error(t)}))},Getmessages:function(){var t=this;l["a"].getmMessages().then((function(e){t.rotateprop;var s=0;t.propmessages=e.data,t.propmessages.length&0==s&&(t.maintmode=m,s=1,d.play())})).catch((function(t){console.error(t)}))},lockmachine:function(){var t={mid:"",val:""};t.mid=this.$store.state.midDo0,t.val="true",i["a"].sendonoff(t).then((function(t){console.log("send off ok")})).catch((function(t){console.log(t)}))},unlockmachine:function(){var t={mid:"",val:""};t.mid=this.$store.state.midDo0,t.val="false",i["a"].sendonoff(t).then((function(t){console.log("send on ok")})).catch((function(t){console.log(t)}))},lockit:function(){this.propmessages.length&&this.lockmachine()},unlockit:function(){this.propmessages.length&&this.unlockmachine()},updateit:function(){var t=this;if(this.propmessages.length)if(this.currentmessage.id){var e=new Date,s=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),a=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds(),n=s+" "+a,o={id:this.currentmessage.id,mtime:n,mcomment:this.currentmessage.comment,mreject:"2"};console.log(o),l["a"].mupdateMessages(o).then((function(e){t.Getmessages(),t.lockmachine(),console.log(e)})).catch((function(t){console.log(t)})),this.Getmessages()}else alert("يجب اختيار الرسالة من اسفل")},updatereject:function(){var t=this;if(this.propmessages.length)if(this.currentmessage.id){var e=new Date,s=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),a=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds(),n=s+" "+a,o={id:this.currentmessage.id,mtime:n,mcomment:this.currentmessage.comment,mreject:"1"};console.log(o),confirm(" Are you sure to reject this work order id : "+o.id)&&(l["a"].mupdateMessages(o).then((function(e){t.Getmessages(),t.lockmachine(),console.log(e)})).catch((function(t){console.log(t)})),this.Getmessages())}else alert("يجب اختيار الرسالة من اسفل")},selectRow:function(t,e,s){this.currentmessage.id=t,this.currentmessage.fcode=e,this.currentmessage.comment=s}}},p=f,v=(s("4ef2"),s("2877")),h=Object(v["a"])(p,c,r,!1,null,"3f02abf5",null),g=h.exports,b=s("5c12"),_=s("2461"),y=(s("9962"),s("c4c6"),s("bc3a"),s("8654")),C=(new y["a"]("",""),{name:"MaintMessages",data:function(){return{content:{},cats:{},subcats:{},failures:{}}},components:{MaintMessagesTable:g,MessagesDrop:_["a"],TabMenue:o["a"],Opmessageform:b["a"]},mounted:function(){this.Getit(),this.Getcat(),this.Getsubcat(),this.Getfailure()},beforeUpdated:function(){this.hide()},methods:{Getit:function(){var t=this;l["a"].getMessages().then((function(e){t.content=e.data})).catch((function(t){console.error(t)}))},hide:function(){this.MaintMessagesTable.destroy()},Getcat:function(){var t=this;l["a"].getmycat().then((function(e){t.cats=e.data})).catch((function(t){console.error(t)}))},Getsubcat:function(){var t=this;l["a"].getmycat().then((function(e){t.subcats=e.data})).catch((function(t){console.error(t)}))},Getfailure:function(){var t=this;l["a"].getmycat().then((function(e){t.failures=e.data})).catch((function(t){console.error(t)}))}}}),x=C,k=Object(v["a"])(x,a,n,!1,null,null,null);e["default"]=k.exports},7894:function(t,e,s){},"8c5b":function(t,e,s){},a434:function(t,e,s){"use strict";var a=s("23e7"),n=s("23cb"),o=s("a691"),c=s("50c4"),r=s("7b0b"),i=s("65f0"),l=s("8418"),u=s("1dde"),m=u("splice"),d=Math.max,f=Math.min,p=9007199254740991,v="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!m},{splice:function(t,e){var s,a,u,m,h,g,b=r(this),_=c(b.length),y=n(t,_),C=arguments.length;if(0===C?s=a=0:1===C?(s=0,a=_-y):(s=C-2,a=f(d(o(e),0),_-y)),_+s-a>p)throw TypeError(v);for(u=i(b,a),m=0;m<a;m++)h=y+m,h in b&&l(u,m,b[h]);if(u.length=a,s<a){for(m=y;m<_-a;m++)h=m+a,g=m+s,h in b?b[g]=b[h]:delete b[g];for(m=_;m>_-a+s;m--)delete b[m-1]}else if(s>a)for(m=_-a;m>y;m--)h=m+a-1,g=m+s-1,h in b?b[g]=b[h]:delete b[g];for(m=0;m<s;m++)b[m+y]=arguments[m+2];return b.length=_-a+s,u}})},c603:function(t,e,s){},fb9f:function(t,e,s){"use strict";s("8c5b")}}]);
//# sourceMappingURL=chunk-7898fa70.695db91e.js.map